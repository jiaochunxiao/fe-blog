## Node.jså…¥é—¨æ•™ç¨‹

[Node.jså…¥é—¨æ•™ç¨‹](http://nodejs.cn/learn)

### å¦‚ä½•ä½¿ç”¨ Node.js REPL

REPL(Read-Eval-Print-Loop)ï¼Œäº¤äº’å¼é¡¶å±‚æ„ä»¶ï¼Œæ˜¯ä¸€ä¸ªç®€å•çš„ã€äº¤äº’å¼çš„å˜æˆç¯å¢ƒï¼Œä¹Ÿèƒ½æŒ‡ä»£å‘½ä»¤è¡Œæ¨¡å¼ã€‚


#### ä½¿ç”¨tabé”®è‡ªåŠ¨è¡¥å…¨

åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œå¦‚æœæŒ‰ä¸‹ tab é”®ï¼Œåˆ™ REPL ä¼šå°è¯•è‡ªåŠ¨è¡¥å…¨æ‰€å†™çš„å†…å®¹ï¼Œä»¥åŒ¹é…å·²å®šä¹‰æˆ–é¢„å®šä¹‰çš„å˜é‡ã€‚


#### _ ç‰¹æ®Šå˜é‡

å¦‚æœåœ¨æŸäº›ä»£ç ä¹‹åè¾“å…¥ _ï¼Œåˆ™ä¼šæ‰“å°æœ€åä¸€æ¬¡æ“ä½œçš„ç»“æœã€‚

#### ç‚¹å‘½ä»¤

REPL æœ‰ä¸€äº›ç‰¹æ®Šçš„å‘½ä»¤ï¼Œæ‰€æœ‰è¿™äº›å‘½ä»¤éƒ½ä»¥ç‚¹å· . å¼€å¤´ã€‚å®ƒä»¬æ˜¯ï¼š

|å‘½ä»¤|æè¿°|
|---|---|
|.help|æ˜¾ç¤ºç‚¹å‘½ä»¤çš„å¸®åŠ©ã€‚|
|.editor|å¯ç”¨ç¼–è¾‘å™¨æ¨¡å¼ï¼Œå¯ä»¥è½»æ¾åœ°ç¼–å†™å¤šè¡Œ JavaScript ä»£ç ã€‚å½“å¤„äºæ­¤æ¨¡å¼æ—¶ï¼ŒæŒ‰ä¸‹ ctrl-D å¯ä»¥è¿è¡Œç¼–å†™çš„ä»£ç ã€‚|
|.break|å½“è¾“å…¥å¤šè¡Œçš„è¡¨è¾¾å¼æ—¶ï¼Œè¾“å…¥ .break å‘½ä»¤å¯ä»¥ä¸­æ­¢è¿›ä¸€æ­¥çš„è¾“å…¥ã€‚ç›¸å½“äºæŒ‰ä¸‹ ctrl-Cã€‚|
|.clear|å°† REPL ä¸Šä¸‹æ–‡é‡ç½®ä¸ºç©ºå¯¹è±¡ï¼Œå¹¶æ¸…é™¤å½“å‰æ­£åœ¨è¾“å…¥çš„ä»»ä½•å¤šè¡Œçš„è¡¨è¾¾å¼ã€‚|
|.load:|åŠ è½½ JavaScript æ–‡ä»¶ï¼ˆç›¸å¯¹äºå½“å‰å·¥ä½œç›®å½•ï¼‰ã€‚|
|.save|å°†åœ¨ REPL ä¼šè¯ä¸­è¾“å…¥çš„æ‰€æœ‰å†…å®¹ä¿å­˜åˆ°æ–‡ä»¶ï¼ˆéœ€æŒ‡å®šæ–‡ä»¶åï¼‰ã€‚|
|.exit|é€€å‡º REPLï¼ˆç›¸å½“äºæŒ‰ä¸‹ä¸¤æ¬¡ ctrl-Cï¼‰ã€‚|

å¦‚æœ REPL èƒ½åˆ¤æ–­å‡ºæ˜¯å¦æ­£åœ¨è¾“å…¥å¤šè¡Œçš„è¯­å¥ï¼Œåˆ™æ— éœ€è°ƒç”¨ .editorã€‚

#### Node.js ä»å‘½ä»¤è¡Œæ¥æ”¶å‚æ•°

è·å–å‚æ•°å€¼çš„æ–¹æ³•æ˜¯ä½¿ç”¨ Node.js ä¸­å†…ç½®çš„ process å¯¹è±¡ã€‚

å®ƒå…¬å¼€äº† argv å±æ€§ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰å‘½ä»¤è¡Œè°ƒç”¨å‚æ•°çš„æ•°ç»„ã€‚

ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ node å‘½ä»¤çš„å®Œæ•´è·¯å¾„ã€‚

ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ­£è¢«æ‰§è¡Œçš„æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ã€‚

æ‰€æœ‰å…¶ä»–çš„å‚æ•°ä»ç¬¬ä¸‰ä¸ªä½ç½®å¼€å§‹ã€‚

å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªæ’é™¤äº†å‰ä¸¤ä¸ªå‚æ•°çš„æ–°æ•°ç»„æ¥ä»…è·å–å…¶ä»–çš„å‚æ•°ï¼š

```javascript
const args = process.argv.slice(2);
```

æœ€å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨ [minimist](https://www.npmjs.com/package/minimist) åº“ï¼Œè¯¥åº“æœ‰åŠ©äºå¤„ç†å‚æ•°ï¼š

```javascript
// test.js
const args = require('minimist')(process.argv.slice(2));
console.log(args);

// å‘½ä»¤è¡Œæ‰§è¡Œ
node test.js -i ./test -o ./test --in=test --out=test
// { _: [], i: './test', o: './test', in: 'test', out: 'test' }
```

### ä½¿ç”¨ Node.js è¾“å‡ºåˆ°å‘½ä»¤è¡Œ

#### ä½¿ç”¨æ§åˆ¶å°æ¨¡å—çš„åŸºç¡€è¾“å‡º

```javascript
console.log('æˆ‘çš„%så·²ç»%då²', 'ğŸˆ', 2);
```

+ %s æ ¼å¼åŒ–å˜é‡ä¸ºå­—ç¬¦ä¸²
+ %d æ ¼å¼åŒ–å˜é‡ä¸ºæ•°å­—
+ %i æ ¼å¼åŒ–å˜é‡ä¸ºå…¶æ•´æ•°éƒ¨åˆ†
+ %o æ ¼å¼åŒ–å˜é‡ä¸ºå¯¹è±¡

#### æ¸…ç©ºæ§åˆ¶å°

```javascript
console.clear()
```

#### å…ƒç´ è®¡æ•°

```javascript
console.count()
```

#### æ‰“å¼€å †æ ˆè¸ªè¿¹

```javascript
console.trace()
```

#### è®¡ç®—è€—æ—¶

```javascript
function test() {
  let n = 100000;
  while(n > 0) {
    n--;
  }
}

function testTime() {
  console.time('test()');
  test();
  console.timeEnd('test()');
}
testTime();
```

#### stdout & stderr

console.log éå¸¸é€‚åˆåœ¨æ§åˆ¶å°ä¸­æ‰“å°æ¶ˆæ¯ã€‚ è¿™å°±æ˜¯æ‰€è°“çš„æ ‡å‡†è¾“å‡ºï¼ˆæˆ–ç§°ä¸º stdoutï¼‰ã€‚
console.error ä¼šæ‰“å°åˆ° stderr æµã€‚
å®ƒä¸ä¼šå‡ºç°åœ¨æ§åˆ¶å°ä¸­ï¼Œä½†æ˜¯ä¼šå‡ºç°åœ¨é”™è¯¯æ—¥å¿—ä¸­ã€‚

### åœ¨ Node.js ä¸­ä»å‘½ä»¤è¡Œæ¥æ”¶è¾“å…¥

